{
  "guid": "2849ea7a-6b50-4bce-a39a-4a1fbc37f09e",
  "name": "abc",
  "resolutionPath": "/abc",
  "enabled": true,
  "folderPath": "/myApis",
  "methodsAllowed": [
    "GET",
    "POST",
    "PUT",
    "DELETE"
  ],
  "tracingEnabled": false,
  "wssProcessingEnabled": false,
  "policy": {
    "xml": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<wsp:Policy xmlns:L7p=\"http://www.layer7tech.com/ws/policy\" xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2002/12/policy\">\n    <wsp:All wsp:Usage=\"Required\">\n        <wsp:OneOrMore wsp:Usage=\"Required\">\n            <L7p:CacheLookup/>\n            <L7p:JavaScript>\n                <L7p:ExecutionTimeout stringValue=\"4000\"/>\n                <L7p:Name stringValue=\"A\"/>\n                <L7p:Script stringValueReference=\"inline\"><![CDATA[function applyRule(crank) {\n\t// simulate logic execution\n\tvar s = new Date().getTime();\n\twhile (new Date().getTime() < s + crank);\n}\n// validate a rule\napplyRule(5);\n// add info to transaction context\ncontext.setVariable(\"rule_result\", \"the rule has been validated\");]]></L7p:Script>\n                <L7p:StrictModeEnabled booleanValue=\"false\"/>\n            </L7p:JavaScript>\n            <L7p:AddHeader>\n                <L7p:HeaderName stringValue=\"rewrew\"/>\n                <L7p:HeaderValue stringValue=\"erwerw\"/>\n            </L7p:AddHeader>\n        </wsp:OneOrMore>\n        <wsp:OneOrMore wsp:Usage=\"Required\">\n            <L7p:EvaluateJsonPathExpression>\n                <L7p:Expression stringValue=\"dsadfas\"/>\n            </L7p:EvaluateJsonPathExpression>\n            <L7p:JavaScript>\n                <L7p:ExecutionTimeout stringValue=\"4000\"/>\n                <L7p:Name stringValue=\"A\"/>\n                <L7p:Script stringValueReference=\"inline\"><![CDATA[function applyRule(crank) {\n\t// simulate logic execution\n\tvar s = new Date().getTime();\n\twhile (new Date().getTime() < s + crank);\n}\n// validate a rule\napplyRule(5);\n// add info to transaction context\ncontext.setVariable(\"rule_result\", \"the rule has been validated\");]]></L7p:Script>\n                <L7p:StrictModeEnabled booleanValue=\"false\"/>\n            </L7p:JavaScript>\n            <L7p:RemoteIpAddressRange/>\n        </wsp:OneOrMore>\n        <wsp:OneOrMore wsp:Usage=\"Required\">\n            <L7p:SetVariable>\n                <L7p:Base64Expression stringValue=\"Yg==\"/>\n                <L7p:VariableToSet stringValue=\"a\"/>\n            </L7p:SetVariable>\n            <L7p:MessageBuffering/>\n            <L7p:ThroughputQuota>\n                <L7p:CounterName stringValue=\"PRESET(91edfcea226f2ae0)${request.tcp.remoteAddress}\"/>\n                <L7p:CounterStrategy intValue=\"1\"/>\n                <L7p:Global booleanValue=\"true\"/>\n                <L7p:Quota stringValue=\"2000000\"/>\n                <L7p:ReadSynchronous booleanValue=\"false\"/>\n                <L7p:Synchronous booleanValue=\"false\"/>\n                <L7p:TimeUnit stringValue=\"day\"/>\n            </L7p:ThroughputQuota>\n            <L7p:GenerateSecurityHash>\n                <L7p:Base64Data stringValue=\"ZHNmc2RmZHM=\"/>\n                <L7p:KeyText stringValue=\"dsfs\"/>\n                <L7p:LineBreak lineBreak=\"CR-LF\"/>\n                <L7p:TargetOutputVariable stringValue=\"fsdfs\"/>\n            </L7p:GenerateSecurityHash>\n            <L7p:JsonTransformation>\n                <L7p:RootTagString stringValue=\"\"/>\n                <L7p:Target target=\"REQUEST\"/>\n            </L7p:JsonTransformation>\n            <L7p:EncodeJsonWebToken>\n                <L7p:SignatureAlgorithm stringValueNull=\"null\"/>\n                <L7p:SourceVariable stringValue=\"vcxcx\"/>\n                <L7p:TargetVariable stringValue=\"vcxvxc\"/>\n            </L7p:EncodeJsonWebToken>\n            <L7p:GraphQLExtractValue>\n                <L7p:ArgumentPattern stringValue=\"dsfsd\"/>\n                <L7p:Expression stringValue=\"fsd\"/>\n            </L7p:GraphQLExtractValue>\n            <L7p:ReplaceTagContent>\n                <L7p:ReplaceWith stringValue=\"asd\"/>\n                <L7p:SearchFor stringValue=\"dsa\"/>\n                <L7p:TagsToSearch stringValue=\"sda\"/>\n            </L7p:ReplaceTagContent>\n            <L7p:CacheStorage/>\n            <L7p:WebSocketConnect/>\n            <L7p:assertionComment>\n                <L7p:Properties mapValue=\"included\">\n                    <L7p:entry>\n                        <L7p:key stringValue=\"LEFT.COMMENT\"/>\n                        <L7p:value stringValue=\"some logic here\"/>\n                    </L7p:entry>\n                </L7p:Properties>\n            </L7p:assertionComment>\n        </wsp:OneOrMore>\n        <wsp:OneOrMore wsp:Usage=\"Required\">\n            <L7p:JavaScript>\n                <L7p:ExecutionTimeout stringValue=\"4000\"/>\n                <L7p:Name stringValue=\"low_code_rule_validation\"/>\n                <L7p:Script stringValueReference=\"inline\"><![CDATA[function applyRule(crank) {\n\t// simulate logic execution\n\tvar s = new Date().getTime();\n\twhile (new Date().getTime() < s + crank);\n}\n\n// read inputs from context\n// var qval = context.getVariable(\"request.tcp.remoteIp\");\nvar crank = 32;\ntry {\n crank = Number(context.getVariable(\"request.http.header.crank\"));\n}\ncatch (error) {\n\tcrank = 1;\n}\n// commented out fix for high latency\n// if (crank > 10) crank = 10;\n// validate a rule\napplyRule(crank);\n// add info to transaction context\ncontext.setVariable(\"rule_result\", \"the rule has been validated\");]]></L7p:Script>\n            </L7p:JavaScript>\n            <L7p:CreateJsonWebKey>\n                <L7p:Keys keys=\"included\">\n                    <L7p:item key=\"included\">\n                        <L7p:KeyId stringValue=\"asfsa\"/>\n                        <L7p:PublicKeyUse stringValue=\"Encryption\"/>\n                        <L7p:SourceKeyGoid goidValue=\"0000000000000000ffffffffffffffff\"/>\n                    </L7p:item>\n                </L7p:Keys>\n                <L7p:TargetVariable stringValue=\"sad\"/>\n            </L7p:CreateJsonWebKey>\n            <L7p:RequestSizeLimit/>\n            <L7p:JsonDocumentStructure/>\n        </wsp:OneOrMore>\n        <wsp:All wsp:Usage=\"Required\">\n            <wsp:OneOrMore wsp:Usage=\"Required\">\n                <wsp:All wsp:Usage=\"Required\">\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"Yg==\"/>\n                        <L7p:VariableToSet stringValue=\"a\"/>\n                    </L7p:SetVariable>\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"Yg==\"/>\n                        <L7p:VariableToSet stringValue=\"a\"/>\n                    </L7p:SetVariable>\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"Yg==\"/>\n                        <L7p:VariableToSet stringValue=\"a\"/>\n                    </L7p:SetVariable>\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"Yg==\"/>\n                        <L7p:VariableToSet stringValue=\"a\"/>\n                    </L7p:SetVariable>\n                    <L7p:ThroughputQuota>\n                        <L7p:CounterName stringValue=\"PRESET(91edfcea226f2ae0)${request.tcp.remoteAddress}\"/>\n                        <L7p:CounterStrategy intValue=\"1\"/>\n                        <L7p:Global booleanValue=\"true\"/>\n                        <L7p:Quota stringValue=\"2000000\"/>\n                        <L7p:ReadSynchronous booleanValue=\"false\"/>\n                        <L7p:Synchronous booleanValue=\"false\"/>\n                        <L7p:TimeUnit stringValue=\"day\"/>\n                    </L7p:ThroughputQuota>\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"Yg==\"/>\n                        <L7p:VariableToSet stringValue=\"a\"/>\n                    </L7p:SetVariable>\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"Yg==\"/>\n                        <L7p:VariableToSet stringValue=\"a\"/>\n                    </L7p:SetVariable>\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"Yg==\"/>\n                        <L7p:VariableToSet stringValue=\"a\"/>\n                    </L7p:SetVariable>\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"Yg==\"/>\n                        <L7p:VariableToSet stringValue=\"a\"/>\n                    </L7p:SetVariable>\n                </wsp:All>\n                <wsp:All wsp:Usage=\"Required\">\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"Yg==\"/>\n                        <L7p:VariableToSet stringValue=\"a\"/>\n                    </L7p:SetVariable>\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"Yg==\"/>\n                        <L7p:VariableToSet stringValue=\"a\"/>\n                    </L7p:SetVariable>\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"Yg==\"/>\n                        <L7p:VariableToSet stringValue=\"a\"/>\n                    </L7p:SetVariable>\n                    <L7p:SetVariable>\n                        <L7p:Base64Expression stringValue=\"Yg==\"/>\n                        <L7p:VariableToSet stringValue=\"a\"/>\n                    </L7p:SetVariable>\n                    <L7p:ThroughputQuota>\n                        <L7p:CounterName stringValue=\"PRESET(91edfcea226f2ae0)${request.tcp.remoteAddress}\"/>\n                        <L7p:CounterStrategy intValue=\"1\"/>\n                        <L7p:Global booleanValue=\"true\"/>\n                        <L7p:Quota stringValue=\"2000000\"/>\n                        <L7p:ReadSynchronous booleanValue=\"false\"/>\n                        <L7p:Synchronous booleanValue=\"false\"/>\n                        <L7p:TimeUnit stringValue=\"day\"/>\n                    </L7p:ThroughputQuota>\n                </wsp:All>\n                <L7p:assertionComment>\n                    <L7p:Properties mapValue=\"included\">\n                        <L7p:entry>\n                            <L7p:key stringValue=\"LEFT.COMMENT\"/>\n                            <L7p:value stringValue=\"more\"/>\n                        </L7p:entry>\n                    </L7p:Properties>\n                </L7p:assertionComment>\n            </wsp:OneOrMore>\n            <L7p:SetVariable>\n                <L7p:Base64Expression stringValue=\"Yg==\"/>\n                <L7p:VariableToSet stringValue=\"a\"/>\n            </L7p:SetVariable>\n            <L7p:AuditDetailAssertion>\n                <L7p:Detail stringValue=\"api /abc - this audit info is actually coming from L7 gateway via OTel (open tracing) \"/>\n                <L7p:Level stringValue=\"WARNING\"/>\n            </L7p:AuditDetailAssertion>\n            <L7p:assertionComment>\n                <L7p:Properties mapValue=\"included\">\n                    <L7p:entry>\n                        <L7p:key stringValue=\"LEFT.COMMENT\"/>\n                        <L7p:value stringValue=\"more logic here\"/>\n                    </L7p:entry>\n                </L7p:Properties>\n            </L7p:assertionComment>\n        </wsp:All>\n        <wsp:OneOrMore wsp:Usage=\"Required\">\n            <L7p:EvaluateJsonPathExpression>\n                <L7p:Expression stringValue=\"dsadfas\"/>\n            </L7p:EvaluateJsonPathExpression>\n            <L7p:JavaScript>\n                <L7p:ExecutionTimeout stringValue=\"4000\"/>\n                <L7p:Name stringValue=\"A\"/>\n                <L7p:Script stringValueReference=\"inline\"><![CDATA[function applyRule(crank) {\n\t// simulate logic execution\n\tvar s = new Date().getTime();\n\twhile (new Date().getTime() < s + crank);\n}\n// validate a rule\napplyRule(5);\n// add info to transaction context\ncontext.setVariable(\"rule_result\", \"the rule has been validated\");]]></L7p:Script>\n                <L7p:StrictModeEnabled booleanValue=\"false\"/>\n            </L7p:JavaScript>\n            <L7p:RemoteIpAddressRange/>\n            <L7p:assertionComment>\n                <L7p:Properties mapValue=\"included\">\n                    <L7p:entry>\n                        <L7p:key stringValue=\"LEFT.COMMENT\"/>\n                        <L7p:value stringValue=\"i'm lost\"/>\n                    </L7p:entry>\n                </L7p:Properties>\n            </L7p:assertionComment>\n        </wsp:OneOrMore>\n        <L7p:HardcodedResponse>\n            <L7p:Base64ResponseBody stringValue=\"YW4gYXBpIHJlc3BvbnNlCnRpbWUgZWxhcHNlZCAke3JlcXVlc3QuZWxhcHNlZFRpbWV9bXM=\"/>\n            <L7p:ResponseContentType stringValue=\"text/plain; charset=UTF-8\"/>\n        </L7p:HardcodedResponse>\n    </wsp:All>\n</wsp:Policy>\n"
  }
}